<h2>С чего начать</h2>
Для работы с блоком часто задаваемых вопросов (FAQ), необходимо вызвать метод Webim.newFAQBuilder() для получения экземпляра класса FAQBuilder. С помощью метода setAccountName(String accountName) необходимо установить имя аккаунта. Метод faqBuilder.build() вернёт экземпляр класса FAQ. После вызова метода faq.resume() можно начинать работать с получением необходимых структур.

<h2>метод newFAQBuilder() класса Webim</h2>
Метод, необходимый для получения объекта FAQBuilder, который в свою очередь необходим для создания экземпляра класса FAQ.

Не принимает параметры.

Возвращает экземпляр класса FAQBuilder, необходимый для работы с блоком часто задаваемых вопросов.

Не выбрасывает исключения.

Не требует предварительного вызова других методов.

<h2>класс FAQBuilder</h2>
Класс, экземпляр которого используется для получения экземпляра класса FAQSession. Экземпляр класса получается методом newFAQBuilder() класса Webim.

<h3>метод экземпляра setAccountName(String accountName)</h3>
Метод необходим для задания названия аккаунта в системе Webim при создании блока часто задаваемых вопросов.

Параметр accountName – название аккаунта клиента в системе Webim. Обычно представляет из себя URL-сервера (например, https://demo.webim.ru), но может иметь и вид названия аккаунта одним словом (например, «demo»), если сервер находится в домене webim.ru. Тип параметра – String.

Возвращает тот же экземпляр класса FAQBuilder, но с установленным названием аккаунта.

Для получения экземпляра FAQ вызов метода является обязательным.

метод экземпляра setContext(Context context)

Метод необходим для задания context в системе Webim при создании блока часто задаваемых вопросов, который необходим для возможности записи кэша для категорий.

Параметр context – контекст. Тип параметра – Context.

Возвращает тот же экземпляр класса FAQBuilder, но с установленным контекстом.

Для получения экземпляра FAQ вызов метода является обязательным.

<h3>метод экземпляра build()</h3>
Метод, который вызывается в заключение перечисленных выше методов для получения экземпляра FAQ.

Возвращает объект FAQ с установленными параметрами с помощью остальных методов экземпляра класса.

Может выбрасывать ошибки типа FAQBuilderError.

Требует вызова методов setAccountName(String accountName) и setContext(Context context). Также предварительно могут быть вызваны и любые другие (в любом порядке и сочетании) методы экземпляра класса FAQBuilder.

<h2>перечисляемый тип FAQBuilderError</h2>
Значение типа соответствуют возможным ошибкам, которые могут возникнуть при вызове метода build() класса FAQBuilder.

<h3>случай NIL_ACCOUNT_NAME</h3>
Возникает, когда при создании блока часто задаваемых вопросов не было передано значение названия аккаунта (или это значение nil).

<h2>интерфейс FAQ</h2>
Интерфейс, позволяющий производить манипуляции с блоком часто задаваемых вопросов. Реализуется внутренними сущностями SDK.

Экземпляр класса FAQ получается с помощью методов класса FAQBuilder.

<h3>метод экземпляра resume()</h3>
При создании экземпляра класса FAQ, соответствующий ему блок часто задаваемых вопросов находится в приостановленном состоянии. Данный метод необходим для того, чтобы стартовать сетевую активность.

Не принимает параметры.

Ничего не возвращает.

Выбрасывает IllegalStateException, если объект блока часто задаваемых вопросов был деактивирован (см. метод destroy()).

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Не требует предварительного вызова никаких других методов. Необходим для полноценного функционирования сервиса в контексте приложения.

Скорость выполнения метода зависит от скорости получения ответа сервера.

<h3>метод экземпляра pause()</h3>
Метод, который используется для приостановки сетевой активности блока часто задаваемых вопросов. Если сессия уже находится в приостановленном состоянии, метод не производит никаких действий.

Не принимает параметры.

Ничего не возвращает.

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Не требует предварительного вызова никаких других методов. Для вызова метода блок часто задаваемых вопросов не должен находиться в деактивированном состоянии.

<h3>метод экземпляра destroy()</h3>
Метод, который используется для деактивации блока часто задаваемых вопросов и экземпляра класса. После вызова данного метода, никакие методы, относящиеся к блоку часто задаваемых вопросов использованы быть не могут.

Не принимает параметры.

Ничего не возвращает.

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Не требует предварительного вызова никаких других методов.

<h3>метод экземпляра getStructure(int rootId, GetStructureCallback callback)</h3>
Метод, который используется для получения объекта класса FAQStructure через GetStructureCallback. Если запрос завершился с ошибкой, то полученная структура будет равна null.

Параметр rootId – ID вершины, которая будет корнем дерева (структуры) блока часто задаваемых вопросов. Тип – Int.

Параметр callback– объект, реализующий интерфейс GetStructureCallback.

Ничего не возвращает.

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Для правильной работы метода требуется вызов метод resume().

<h3>метод экземпляра getCategory(int id, GetCategoryCallback callback)</h3>
Метод, который используется для получения объекта класса FAQCategory через GetCategoryCallback. Если запрос завершился с ошибкой, то полученная категория будет равна null.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – Int.

Параметр callback– объект, реализующий интерфейс GetCategoryCallback.

Ничего не возвращает.

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Для правильной работы метода требуется вызов метод resume().


<h3>метод экземпляра getCachedCategory(int id, GetCategoryCallback completion)</h3>
Метод, который используется для получения объекта класса FAQCategory через completion из сохранённого кэша. Если запрос завершился с ошибкой, то полученная категория будет равна null.

Параметр id – ID категории блока часто задаваемых вопросов. Тип – int.

Параметр callback – объект, реализующий интерфейс GetCategoryCallback.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h3>метод экземпляра getItem(String id, GetItemCallback callback)</h3>
Метод, который используется для получения объекта класса FAQItem через GetItemCallback. Если запрос завершился с ошибкой, то полученная страница будет равна null.

Параметр id – ID страницы блока часто задаваемых вопросов. Тип – String.

Параметр callback – объект, реализующий интерфейс GetItemCallback.

Ничего не возвращает.

Выбрасывает RuntimeException, если метод был вызван из потока, отличного от того, в котором был создан объект класса.

Для правильной работы метода требуется вызов метод resume().


<h3>метод экземпляра like(FAQItem item)</h3>
Метод, который позволяет поставить отметку "нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h3>метод экземпляра dislike(FAQItem item)</h3>
Метод, который позволяет поставить отметку "не нравится" для статьи.

Параметр item – страница, которой необходимо поставить оценку. Тип – FAQItem.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h3>метод экземпляра search(String query, int id, int limit, GetSearchCallback callback)</h3>
Метод, который позволяет найти статьи по ключевому слову.

Параметр query – запрос, по которому осуществляется поиск. Тип – String.

Параметр id – id категории, в которой осуществляется поиск. Тип – Int.

Параметр limit – число, не больше которого нужно вернуть статей.

Параметр callback – объект, реализующий интерфейс GetSearchCallback.

Ничего не возвращает.

Может выбрасывать ошибки типа FAQAccessError

Для правильной работы метода требуется вызов метод resume().


<h2>интерфейс GetStructureCallback</h2>
Интерфейс, методы которого реализуются каким-либо классом приложения.

Объект, подчиняющийся интерфейсу, может быть передан в параметре callback метода getStructure(int rootId, GetStructureCallback callback)интерфейса FAQ.


<h3>метод receive(FAQStructure structure)</h3>
Метод вызывается при получении дерева (структуру) категорий блока часто задаваемых вопросов методом getStructure(int rootId, GetStructureCallback callback) интерфейса FAQ.

Параметр structure – дерево (структура) категорий блока часто задаваемых вопросов. Тип – FAQStructure.

Ничего не возвращает.

Не выбрасывает исключения.

Не требует предварительного вызова никаких других методов.

Метод будет вызван после завершения работы метода getStructure(int rootId, GetStructureCallback callback).


<h2>интерфейс GetCategoryCallback</h2>
Интерфейс, методы которого реализуются каким-либо классом приложения.

Объект, подчиняющийся интерфейсу, может быть передан в параметре callback метода getCategory(int id, GetCategoryCallback callback) интерфейса FAQ.


<h3>метод receive(FAQCategory category)</h3>
Метод вызывается при получении категории блока часто задаваемых вопросов методом getCategory(int id, GetCategoryCallback callback) интерфейса FAQ.

Параметр category – категория блока часто задаваемых вопросов. Тип – FAQCategory.

Ничего не возвращает.

Не выбрасывает исключения.

Не требует предварительного вызова никаких других методов.

Метод будет вызван после завершения работы метода getCategory(int id, GetCategoryCallback callback).


<h2>интерфейс GetItemCallback</h2>
Интерфейс, методы которого реализуются каким-либо классом приложения.

Объект, подчиняющийся интерфейсу, может быть передан в параметре callback метода getItem(String id, GetItemCallback callback) интерфейса FAQ.


<h3>метод receive(FAQItem item)</h3>
Метод вызывается при получении страницы блока часто задаваемых вопросов методом getItem(String id, GetItemCallback callback) интерфейса FAQ.

Параметр item – страница блока часто задаваемых вопросов. Тип – FAQItem.

Ничего не возвращает.

Не выбрасывает исключения.

Не требует предварительного вызова никаких других методов.

Метод будет вызван после завершения работы метода getItem(String id, GetItemCallback callback).


<h2>интерфейс GetSearchCallback</h2>
Интерфейс, методы которого реализуются каким-либо классом приложения.

Объект, подчиняющийся интерфейсу, может быть передан в параметре callback метода getSearchItem(String query, int id, int limit, GetSearchCallback callback) интерфейса FAQ.


<h3>метод receive(List<FAQSearchItem> items)</h3>
Метод вызывается при получении страниц блока часто задаваемых вопросов методом getSearchItem(String query, int id, int limit, GetSearchCallback callback) интерфейса FAQ.

Параметр items – страницы блока часто задаваемых вопросов. Тип – List<FAQSearchItem>.

Ничего не возвращает.

Не выбрасывает исключения.

Не требует предварительного вызова никаких других методов.

Метод будет вызван после завершения работы метода getSearchItem(String query, int id, int limit, GetSearchCallback callback).


<h2>интерфейс FAQCategory</h2>
Представление категории блока часто задаваемых вопросов. Предоставляет методы получения информации о категории.

Объекты FAQCategory могут быть получены с помощью класса, реализующего интерфейс GetCategoryCallback.


<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getItems()</h3>
Категория содержит страницы блока часто задаваемых вопросов.

Не принимает параметров.

Возвращает страницы, принадлежащих категории. Тип – List<FAQItem>.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getSubcategories()</h3>
Категория содержит подкатегории. Для удобства данный метод возвращает информацию о подкатегориях без её страниц и подкатегорий.

Не принимает параметров.

Возвращает информацию о подкатегориях, принадлежащих категории. Тип – List<FAQCategoryInfo>.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>интерфейс FAQCategoryInfo</h2>
Представление информации о категории блока часто задаваемых вопросов. Предоставляет методы получения идентификатора и заголовка категории.

Объекты FAQCategoryInfo могут быть получены с помощью метода getSubcategories().


<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор категории. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок категории. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>интерфейс FAQItem</h2>
Представление страницы блока часто задаваемых вопросов. Предоставляет методы получения информации о странице.

Объекты FAQItem могут быть получены с помощью класса, реализующего интерфейс GetItemCallback.


<h3>метод getId()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getCategories()</h3>
Страница может принадлежать нескольким категориям.

Не принимает параметров.

Возвращает идентификаторы категорий, которым принадлежи страница. Тип – List<Int>.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTags()</h3>
У страницы есть набор тэгов.

Не принимает параметров.

Возвращает список тэгов, которыми отмечена страница. Тип – List<String>.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getContent()</h3>
Не принимает параметров.

Возвращает содержание страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getLikeCount()</h3>
Страница содержит количество отметок "Нравится".

Не принимает параметров.

Возвращает количество отметок "Нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getDislikeCount()</h3>
Страница содержит количество отметок "Не нравится".

Не принимает параметров.

Возвращает количество отметок "Не нравится" страницы. Тип – Int.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getUserRate()</h3>
Страница может быть отмечена пользователем.

Возварщает оценку пользователя. Тип – UserRate.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>перечисляемый тип UserRate</h2>
Страница может быть отмечена пользователем.


<h3>случай LIKE</h3>
Пользователю понравилась страница.


<h3>случай DISLIKE</h3>
Пользователю не понравилась страница.


<h3>случай NO_RATE</h3>
Страница не оценена пользователем.


<h2>интерфейс FAQSearchItem</h2>
Краткая информация о страницах, полученных в результате поиска по ключевому слову.


<h3>метод getID()</h3>
Не принимает параметров.

Возвращает идентификатор страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок страницы. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getScore()</h3>
У страницы есть оценка поиска. Чем больше оценка, тем больше страница подходит под поисковой запрос.

Не принимает параметров.

Возвращает оценку поиска. Тип – double.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>интерфейс FAQStructure</h2>
Представление дерева (структуры) блока часто задаваемых вопросов. Предоставляет методы получения информации о дереве блока часто задаваемых вопросов.

Объекты FAQStructure могут быть получены с помощью класса, реализующего интерфейс GetStructureCallback.


<h3>метод getId()</h3>
У дерева есть корневой элемент.

Не принимает параметров.

Возвращает идентификатор корневого элемента дерева. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getTitle()</h3>
Не принимает параметров.

Возвращает заголовок корня. Тип – String.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getType()</h3>
Корень дерева может быть категорией или страницей.

Не принимает параметров.

Возвращает тип корневого элемента. Тип – FAQType.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h3>метод getChildren()</h3>
Не принимает параметров.

Возвращает поддеревья, корнями которых являются прямые потомки корня дерева (структуры). Тип – List<FAQStructure>.

Не выбрасывает исключений.

Не требует предварительного вызова никаких других методов.


<h2>перечисляемый тип FAQType</h2>
Возможные типы корня дерева блока часто задаваемых вопросов (см. метод getType() интерфейса FAQStructure).


<h3>случай ITEM</h3>
Корень дерева является страницей.


<h3>случай CATEGORY</h3>
Корень дерева является категорией.


<h3>случай UNKNOWN</h3>
Корень дерева имеет неизвестный тип для данной версии SDK.